export const createTestROM = (): ArrayBuffer => {
  // 創建一個簡單的測試ROM，包含基本的GBA ROM頭部和一些測試指令
  const romSize = 32 * 1024; // 32KB
  const rom = new Uint8Array(romSize);
  
  // ROM頭部 (0x0-0xBF)
  const header = [
    0x24, 0xFF, 0xAE, 0x51, // Nintendo Logo
    0x54, 0x45, 0x53, 0x54, // Game Title: "TEST"
    0x00, 0x00, 0x00, 0x00,
    0x54, 0x53, 0x54, 0x31, // Game Code: "TST1"
    0x30, 0x31, // Maker Code
    0x96, // Fixed value
    0x00, // Main unit code
    0x00, // Device type
    0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, // Reserved
    0x00, // Software version
    0x00, // Complement check
    0x00, 0x00 // Reserved
  ];

  // 複製頭部數據
  rom.set(header, 0);

  // 測試指令
  // MOV r0, #1
  rom[0xC0] = 0x01;
  rom[0xC1] = 0x00;
  rom[0xC2] = 0xA0;
  rom[0xC3] = 0xE3;

  // MOV r1, #2
  rom[0xC4] = 0x02;
  rom[0xC5] = 0x10;
  rom[0xC6] = 0xA0;
  rom[0xC7] = 0xE3;

  // ADD r2, r0, r1
  rom[0xC8] = 0x01;
  rom[0xC9] = 0x20;
  rom[0xCA] = 0x80;
  rom[0xCB] = 0xE0;

  return rom.buffer;
}; 